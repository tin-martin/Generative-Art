Inspired by kgolid marching squares implementation: https://github.com/kgolid/topographic/tree/master.
